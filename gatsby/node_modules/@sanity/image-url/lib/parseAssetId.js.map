{"version":3,"sources":["../src/parseAssetId.js"],"names":["parseAssetId","example","ref","split","id","dimensionString","format","Error","imgWidthStr","imgHeightStr","width","height","isValidAssetId","Number","isFinite"],"mappings":";;;;;;;;kBAEwBA,Y;AAFxB,IAAMC,UAAU,8CAAhB;;AAEe,SAASD,YAAT,CAAsBE,GAAtB,EAA2B;AAAA,mBACAA,IAAIC,KAAJ,CAAU,GAAV,CADA;AAAA;AAAA,MAC/BC,EAD+B;AAAA,MAC3BC,eAD2B;AAAA,MACVC,MADU;;AAGxC,MAAI,CAACF,EAAD,IAAO,CAACC,eAAR,IAA2B,CAACC,MAAhC,EAAwC;AACtC,UAAM,IAAIC,KAAJ,6BAAmCL,GAAnC,iCAAiED,OAAjE,QAAN;AACD;;AALuC,8BAOJI,gBAAgBF,KAAhB,CAAsB,GAAtB,CAPI;AAAA;AAAA,MAOjCK,WAPiC;AAAA,MAOpBC,YAPoB;;AASxC,MAAMC,QAAQ,CAACF,WAAf;AACA,MAAMG,SAAS,CAACF,YAAhB;;AAEA,MAAMG,iBAAiBC,OAAOC,QAAP,CAAgBJ,KAAhB,KAA0BG,OAAOC,QAAP,CAAgBH,MAAhB,CAAjD;AACA,MAAI,CAACC,cAAL,EAAqB;AACnB,UAAM,IAAIL,KAAJ,6BAAmCL,GAAnC,iCAAiED,OAAjE,QAAN;AACD;;AAED,SAAO,EAACG,MAAD,EAAKM,YAAL,EAAYC,cAAZ,EAAoBL,cAApB,EAAP;AACD","file":"parseAssetId.js","sourcesContent":["const example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg'\n\nexport default function parseAssetId(ref) {\n  const [, id, dimensionString, format] = ref.split('-')\n\n  if (!id || !dimensionString || !format) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  const [imgWidthStr, imgHeightStr] = dimensionString.split('x')\n\n  const width = +imgWidthStr\n  const height = +imgHeightStr\n\n  const isValidAssetId = Number.isFinite(width) && Number.isFinite(height)\n  if (!isValidAssetId) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  return {id, width, height, format}\n}\n"]}