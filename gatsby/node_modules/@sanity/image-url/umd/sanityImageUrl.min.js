!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SanityImageUrlBuilder=t()}}(function(){return function o(u,a,f){function h(e,t){if(!a[e]){if(!u[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(s)return s(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var n=a[e]={exports:{}};u[e][0].call(n.exports,function(t){return h(u[e][1][t]||t)},n,n.exports,o,u,a,f)}return a[e].exports}for(var s="function"==typeof require&&require,t=0;t<f.length;t++)h(f[t]);return h}({1:[function(t,e,i){e.exports=t("./lib/builder").default},{"./lib/builder":2}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();i.default=function(t){return t&&"object"===r(t.clientConfig)?new s(null,{baseUrl:t.clientConfig.apiHost.replace(/^https:\/\/api\./,"https://cdn."),projectId:t.clientConfig.projectId,dataset:t.clientConfig.dataset}):new s(null,t)};var o,u=t("./urlForImage"),a=(o=u)&&o.__esModule?o:{default:o},f=["clip","crop","fill","fillmax","max","scale","min"],h=["top","bottom","left","right","center","focalpoint","entropy"],s=function(){function i(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.options=t?Object.assign({},t.options,e||{}):e||{}}return n(i,[{key:"withOptions",value:function(t){return new i(this,t)}},{key:"image",value:function(t){return this.withOptions({source:t})}},{key:"dataset",value:function(t){return this.withOptions({dataset:t})}},{key:"projectId",value:function(t){return this.withOptions({projectId:t})}},{key:"width",value:function(t){return this.withOptions({width:t})}},{key:"height",value:function(t){return this.withOptions({height:t})}},{key:"focalPoint",value:function(t,e){return this.withOptions({focalPoint:{x:t,y:e}})}},{key:"maxWidth",value:function(t){return this.withOptions({maxWidth:t})}},{key:"minWidth",value:function(t){return this.withOptions({minWidth:t})}},{key:"maxHeight",value:function(t){return this.withOptions({maxHeight:t})}},{key:"minHeight",value:function(t){return this.withOptions({minHeight:t})}},{key:"size",value:function(t,e){return this.withOptions({width:t,height:e})}},{key:"blur",value:function(t){return this.withOptions({blur:t})}},{key:"sharpen",value:function(t){return this.withOptions({sharpen:t})}},{key:"rect",value:function(t,e,i,r){return this.withOptions({rect:{left:t,top:e,width:i,height:r}})}},{key:"format",value:function(t){return this.withOptions({format:t})}},{key:"invert",value:function(t){return this.withOptions({invert:t})}},{key:"orientation",value:function(t){return this.withOptions({orientation:t})}},{key:"quality",value:function(t){return this.withOptions({quality:t})}},{key:"forceDownload",value:function(t){return this.withOptions({download:t})}},{key:"flipHorizontal",value:function(){return this.withOptions({flipHorizontal:!0})}},{key:"flipVertical",value:function(){return this.withOptions({flipVertical:!0})}},{key:"ignoreImageParams",value:function(){return this.withOptions({ignoreImageParams:!0})}},{key:"fit",value:function(t){if(-1===f.indexOf(t))throw new Error('Invalid fit mode "'+t+'"');return this.withOptions({fit:t})}},{key:"crop",value:function(t){if(-1===h.indexOf(t))throw new Error('Invalid crop mode "'+t+'"');return this.withOptions({crop:t})}},{key:"url",value:function(){return(0,a.default)(this.options)}},{key:"toString",value:function(){return this.url()}}]),i}()},{"./urlForImage":5}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],r=!0,n=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(i.push(u.value),!e||i.length!==e);r=!0);}catch(t){n=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};i.default=function(t){var e=t.split("-"),i=s(e,4),r=i[1],n=i[2],o=i[3];if(!r||!n||!o)throw new Error("Malformed asset _ref '"+t+"'. Expected an id like \""+l+'".');var u=n.split("x"),a=s(u,2),f=+a[0],h=+a[1];if(!Number.isFinite(f)||!Number.isFinite(h))throw new Error("Malformed asset _ref '"+t+"'. Expected an id like \""+l+'".');return{id:r,width:f,height:h,format:o}};var l="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg"},{}],4:[function(t,e,i){"use strict";function r(t){return("image-"+t.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.default=function(t){if(!t)return null;var e,i=void 0;if("string"==typeof t&&/^https?:\/\//.test(""+t))i={asset:{_ref:r(t)}};else if("string"==typeof t)i={asset:{_ref:t}};else if("string"==typeof t._ref)i={asset:t};else if(t._id)i={asset:{_ref:t._id}};else if(t.asset&&t.asset.url&&!t.asset._ref)i={asset:{_ref:r(t.asset.url)}};else{if("object"!==n(t.asset))return null;i=t}return t.crop&&(i.crop=t.crop),t.hotspot&&(i.hotspot=t.hotspot),(e=i).crop&&e.hotspot?e:Object.assign({crop:{left:0,top:0,bottom:0,right:0},hotspot:{x:.5,y:.5,height:1,width:1}},e)}},{}],5:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0}),i.parseSource=void 0;var w=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],r=!0,n=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(i.push(u.value),!e||i.length!==e);r=!0);}catch(t){n=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};i.default=function(t){var e=Object.assign({},t||{}),i=e.source;delete e.source;var r=(0,v.default)(i);if(!r)return null;var n=(0,m.default)(r.asset._ref),o={left:Math.round(r.crop.left*n.width),top:Math.round(r.crop.top*n.height)};o.width=Math.round(n.width-r.crop.right*n.width-o.left),o.height=Math.round(n.height-r.crop.bottom*n.height-o.top);var u=r.hotspot.height*n.height/2,a=r.hotspot.width*n.width/2,f=r.hotspot.x*n.width,h=r.hotspot.y*n.height,s={left:f-a,top:h-u,right:f+a,bottom:h+a};return e.asset=n,e.rect||e.focalPoint||e.ignoreImageParams||e.crop||(e=Object.assign(e,function(t,e){var i={width:e.width,height:e.height};if(!e.width||!e.height)return i.rect=t.crop,i;var r=t.crop,n=t.hotspot,o=e.width/e.height;if(r.width/r.height>o){var u=r.height,a=u*o,f=r.top,h=(n.right-n.left)/2+n.left,s=h-a/2;return s<r.left?s=r.left:s+a>r.left+r.width&&(s=r.left+r.width-a),i.rect={left:Math.round(s),top:Math.round(f),width:Math.round(a),height:Math.round(u)},i}var l=r.width,c=l/o,p=r.left,d=(n.bottom-n.top)/2+n.top-c/2;return d<r.top?d=r.top:d+c>r.top+r.height&&(d=r.top+r.height-c),i.rect={left:Math.floor(p),top:Math.floor(d),width:Math.round(l),height:Math.round(c)},i}({crop:o,hotspot:s},e))),l=e,c=l.baseUrl||"https://cdn.sanity.io",p=l.asset.id+"-"+l.asset.width+"x"+l.asset.height+"."+l.asset.format,d=c+"/images/"+l.projectId+"/"+l.dataset+"/"+p,y=[],l.rect&&(0!=l.rect.left||0!=l.rect.top||l.rect.height!=l.asset.height||l.rect.width!=l.asset.width)&&y.push("rect="+l.rect.left+","+l.rect.top+","+l.rect.width+","+l.rect.height),l.focalPoint&&(y.push("fp-x="+l.focalPoint.x),y.push("fp-x="+l.focalPoint.y)),(l.flipHorizontal||l.flipVertical)&&y.push("flip="+(l.flipHorizontal?"h":"")+(l.flipVertical?"v":"")),g.forEach(function(t){var e=w(t,2),i=e[0],r=e[1];void 0!==l[i]?y.push(r+"="+encodeURIComponent(l[i])):void 0!==l[r]&&y.push(r+"="+encodeURIComponent(l[r]))}),0===y.length?d:d+"?"+y.join("&");var l,c,p,d,y};var v=r(t("./parseSource")),m=r(t("./parseAssetId")),g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"]];i.parseSource=v.default},{"./parseAssetId":3,"./parseSource":4}]},{},[1])(1)});
